import{d as m,r as f,c as I,w as O,o as l,a as c,b as n,t as d,u as _,F as u,e as p,f as y,g as S}from"./vendor.b4c16214.js";const P=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const g of i.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}};P();const v=m({id:"complete-orders",state:()=>({orders:[]}),getters:{},actions:{addItem(e){this.rawItems.push(e)},removeItem(e){const t=this.rawItems.lastIndexOf(e);t>-1&&this.rawItems.splice(t,1)},addOrder(e){this.orders.push(e)}}}),a=m({id:"pending-orders",state:()=>({orders:[],regId:1,vipId:1}),getters:{},actions:{addOrder(){this.orders.push({name:`Regular ${this.regId}`,status:"waiting"}),this.regId++},addVipOrder(){if(this.orders.length&&!this.orders[0].name.includes("VIP"))this.orders.unshift({name:`VIP ${this.vipId}`,status:"waiting"}),this.vipId++;else if(!this.orders.length)this.orders.push({name:`VIP ${this.vipId}`,status:"waiting"}),this.vipId++;else if(this.orders.filter(e=>e.name.includes("Regular")).length>0){for(let e=0;e<this.orders.length;e++)if(this.orders[e].name.includes("Regular")){this.orders.splice(e,0,{name:`VIP ${this.vipId}`,status:"waiting"}),this.vipId++;break}}else this.orders.push({name:`VIP ${this.vipId}`,status:"waiting"}),this.vipId++},completeOrder(e){v().addOrder(e),this.orders.splice(this.orders.findIndex(o=>o.name===e),1)}}}),b=m({id:"bots",state:()=>({bots:[],id:0}),getters:{},actions:{addBot(){this.bots.push({botStatus:"AFK",id:this.id}),this.id++,this.checkForPending()},removeBot(){if(this.bots.length>0){const e=a();this.bots.pop();for(let t of e.orders)t.status=="preparing"&&this.bots.filter(o=>o.id==t.assignedTo).length<=0&&(t.status="waiting",t.assignedTo=`abandoned by bot ${t.assignedTo}`)}},markAsComplete(e,t){const o=a();for(let s of this.bots)if(s.id==e){s.botStatus="AFK";for(let r of o.orders)r.name==t.name&&o.completeOrder(r.name);return}for(let s of o.orders)s.name==t.name&&(s.status="waiting")},async getToWork(e){const t=a();let o;if(this.bots.filter(s=>s.botStatus==="AFK").length>0){for(let s of this.bots)if(s.botStatus=="AFK"){o=s.id;break}setTimeout(this.markAsComplete,1e4,o,e);for(let s of this.bots)s.id==o&&(s.botStatus=`Preparing ${e.name}`);for(let s of t.orders)s.name==e.name&&(s.status="preparing",s.assignedTo=o)}else console.log("Insert logic for multiple bots here")},checkForPending(){const e=a();for(let t of e.orders)t.status=="waiting"&&this.bots.filter(o=>o.botStatus=="AFK").length>0&&this.getToWork(t)}}});var h=(e,t)=>{const o=e.__vccOpts||e;for(const[s,r]of t)o[s]=r;return o};const w={props:{msg:String},setup(e){const t=a(),o=b();f(0);const s=I({get(){return t.orders}});return O(s.value,async()=>{if(o.bots.length&&s.value.length&&o.bots.filter(r=>r.botStatus=="AFK").length>0)for(let r=0;r<t.orders.length;r++)t.orders[r].status=="waiting"&&o.getToWork(t.orders[r])}),(r,i)=>(l(),c(u,null,[n("h1",null,d(e.msg),1),n("p",null,d(_(s)),1)],64))}};var k=h(w,[["__scopeId","data-v-ae3c049a"]]);const B={props:{msg:String},setup(e){const t=v();return f(0),(o,s)=>(l(),c(u,null,[n("h1",null,d(e.msg),1),n("p",null,d(_(t).orders),1)],64))}};var x=h(B,[["__scopeId","data-v-2f831ad4"]]);const A={props:{msg:String},setup(e){const t=b();a(),f(0);function o(){t.addBot()}function s(){t.removeBot()}return(r,i)=>(l(),c(u,null,[n("h1",null,d(e.msg),1),n("button",{onClick:o},"+ Bot"),n("button",{onClick:s},"- Bot"),n("p",null,d(_(t).bots),1)],64))}};var C=h(A,[["__scopeId","data-v-779ce81e"]]);const F={props:{msg:String},setup(e){const t=a();f(0);function o(){t.addOrder()}function s(){t.addVipOrder()}return(r,i)=>(l(),c(u,null,[n("h1",null,d(e.msg),1),n("button",{onClick:o},"New Normal Order"),n("button",{onClick:s},"New VIP Order")],64))}};var V=h(F,[["__scopeId","data-v-0933a8f4"]]);const $={setup(e){return(t,o)=>(l(),c(u,null,[p(k,{msg:"Pending Orders"}),p(x,{msg:"Complete Orders"}),p(C,{msg:"Bot Kitchen"}),p(V,{msg:"Order here"})],64))}};y($).use(S()).mount("#app");
